<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لوحة التحكم - نظام إدارة العيادة الطبية</title>
    <link rel="stylesheet" href="dashboard.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- الهيكل الرئيسي -->
    <div class="dashboard-container">
        <!-- الشريط الجانبي -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="clinic-info">
                    <div class="clinic-logo">
                        <i class="fas fa-stethoscope"></i>
                    </div>
                    <div class="clinic-details">
                        <h2 id="clinicName">العيادة الطبية</h2>
                        <span id="clinicType">عيادة متخصصة</span>
                    </div>
                </div>
                <button class="sidebar-toggle" id="sidebarToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>

            <nav class="sidebar-nav">
                <ul class="nav-menu">
                    <li class="nav-item active">
                        <a href="#dashboard" class="nav-link">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>لوحة التحكم</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#appointments" class="nav-link">
                            <i class="fas fa-calendar-check"></i>
                            <span>المواعيد</span>
                            <span class="badge" id="appointmentsBadge">0</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#patients" class="nav-link">
                            <i class="fas fa-user-injured"></i>
                            <span>المرضى</span>
                            <span class="badge" id="patientsBadge">0</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#medical-records" class="nav-link">
                            <i class="fas fa-file-medical"></i>
                            <span>السجلات الطبية</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#prescriptions" class="nav-link">
                            <i class="fas fa-prescription"></i>
                            <span>الوصفات الطبية</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#invoices" class="nav-link">
                            <i class="fas fa-file-invoice-dollar"></i>
                            <span>الفواتير</span>
                            <span class="badge" id="invoicesBadge">0</span>
                        </a>
                    </li>
                    <li class="nav-item has-submenu">
                        <a href="#reports" class="nav-link">
                            <i class="fas fa-chart-bar"></i>
                            <span>التقارير والإحصائيات</span>
                            <i class="fas fa-chevron-down submenu-toggle"></i>
                        </a>
                        <ul class="submenu">
                            <li><a href="#financial-reports">التقارير المالية</a></li>
                            <li><a href="#medical-reports">التقارير الطبية</a></li>
                            <li><a href="#performance-reports">تقارير الأداء</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a href="#inventory" class="nav-link">
                            <i class="fas fa-pills"></i>
                            <span>المخزون والأدوية</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#lab" class="nav-link">
                            <i class="fas fa-flask"></i>
                            <span>المختبر والتحاليل</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#radiology" class="nav-link">
                            <i class="fas fa-x-ray"></i>
                            <span>الأشعة</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#settings" class="nav-link">
                            <i class="fas fa-cogs"></i>
                            <span>الإعدادات</span>
                        </a>
                    </li>
                </ul>
            </nav>

            <div class="sidebar-footer">
                <div class="user-profile">
                    <div class="user-avatar">
                        <i class="fas fa-user-md"></i>
                    </div>
                    <div class="user-info">
                        <span class="user-name" id="userName">د. غير معروف</span>
                        <span class="user-role" id="userRole">طبيب</span>
                    </div>
                </div>
                <button class="logout-btn" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>تسجيل الخروج</span>
                </button>
            </div>
        </aside>

        <!-- المحتوى الرئيسي -->
        <main class="main-content">
            <!-- شريط العنوان العلوي -->
            <header class="top-header">
                <div class="header-left">
                    <h1 id="pageTitle">لوحة التحكم</h1>
                    <div class="breadcrumb">
                        <span>الرئيسية</span>
                        <i class="fas fa-chevron-left"></i>
                        <span id="currentPage">لوحة التحكم</span>
                    </div>
                </div>
                
                <div class="header-right">
                    <div class="header-actions">
                        <!-- بحث -->
                        <div class="search-box">
                            <input type="text" id="globalSearch" placeholder="بحث في النظام...">
                            <i class="fas fa-search"></i>
                        </div>
                        
                        <!-- الإشعارات -->
                        <div class="notification-dropdown">
                            <button class="notification-btn" id="notificationBtn">
                                <i class="fas fa-bell"></i>
                                <span class="notification-count" id="notificationCount">3</span>
                            </button>
                            <div class="notification-panel" id="notificationPanel">
                                <div class="notification-header">
                                    <h3>الإشعارات</h3>
                                    <button class="mark-all-read" id="markAllRead">تعيين الكل كمقروء</button>
                                </div>
                                <div class="notification-list" id="notificationList">
                                    <!-- سيتم ملء الإشعارات ديناميكياً -->
                                </div>
                            </div>
                        </div>
                        
                        <!-- المستخدم -->
                        <div class="user-dropdown">
                            <button class="user-btn" id="userBtn">
                                <div class="user-avatar-sm">
                                    <i class="fas fa-user-md"></i>
                                </div>
                                <span id="userNameSm">د. غير معروف</span>
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="user-menu" id="userMenu">
                                <a href="#profile" class="user-menu-item">
                                    <i class="fas fa-user"></i>
                                    <span>الملف الشخصي</span>
                                </a>
                                <a href="#settings" class="user-menu-item">
                                    <i class="fas fa-cog"></i>
                                    <span>الإعدادات</span>
                                </a>
                                <div class="user-menu-divider"></div>
                                <button class="user-menu-item logout-menu-item" id="logoutMenuBtn">
                                    <i class="fas fa-sign-out-alt"></i>
                                    <span>تسجيل الخروج</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- محتوى الصفحة -->
            <div class="page-content">
                <!-- قسم لوحة التحكم -->
                <section id="dashboardSection" class="page-section active">
                    <!-- بطاقات الإحصائيات -->
                    <div class="stats-grid">
                        <div class="stat-card primary">
                            <div class="stat-icon">
                                <i class="fas fa-user-injured"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="totalPatients">0</h3>
                                <span>إجمالي المرضى</span>
                            </div>
                            <div class="stat-trend">
                                <i class="fas fa-arrow-up"></i>
                                <span>+12%</span>
                            </div>
                        </div>
                        
                        <div class="stat-card success">
                            <div class="stat-icon">
                                <i class="fas fa-calendar-check"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="todayAppointments">0</h3>
                                <span>مواعيد اليوم</span>
                            </div>
                            <div class="stat-trend">
                                <i class="fas fa-arrow-up"></i>
                                <span>+5%</span>
                            </div>
                        </div>
                        
                        <div class="stat-card warning">
                            <div class="stat-icon">
                                <i class="fas fa-file-invoice-dollar"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="pendingInvoices">0</h3>
                                <span>فواتير معلقة</span>
                            </div>
                            <div class="stat-trend">
                                <i class="fas fa-arrow-down"></i>
                                <span>-3%</span>
                            </div>
                        </div>
                        
                        <div class="stat-card danger">
                            <div class="stat-icon">
                                <i class="fas fa-pills"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="lowStockItems">0</h3>
                                <span>أدوية منخفضة المخزون</span>
                            </div>
                            <div class="stat-trend">
                                <i class="fas fa-exclamation-circle"></i>
                                <span>تحذير</span>
                            </div>
                        </div>
                    </div>

                    <!-- المخططات والإحصائيات -->
                    <div class="charts-grid">
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3>الإيرادات الشهرية</h3>
                                <select id="revenuePeriod">
                                    <option value="month">هذا الشهر</option>
                                    <option value="quarter">هذا الربع</option>
                                    <option value="year">هذه السنة</option>
                                </select>
                            </div>
                            <div class="chart-container">
                                <canvas id="revenueChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3>توزيع المرضى حسب العمر</h3>
                            </div>
                            <div class="chart-container">
                                <canvas id="patientsAgeChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- المواعيد القادمة -->
                    <div class="content-grid">
                        <div class="content-card upcoming-appointments">
                            <div class="card-header">
                                <h3>المواعيد القادمة</h3>
                                <a href="#appointments" class="view-all">عرض الكل</a>
                            </div>
                            <div class="card-body">
                                <div class="appointments-list" id="upcomingAppointmentsList">
                                    <!-- سيتم ملء المواعيد ديناميكياً -->
                                </div>
                            </div>
                        </div>
                        
                        <!-- المرضى الجدد -->
                        <div class="content-card recent-patients">
                            <div class="card-header">
                                <h3>المرضى المضافين حديثاً</h3>
                                <a href="#patients" class="view-all">عرض الكل</a>
                            </div>
                            <div class="card-body">
                                <div class="patients-list" id="recentPatientsList">
                                    <!-- سيتم ملء المرضى ديناميكياً -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- التنبيهات والإشعارات المهمة -->
                    <div class="alerts-section">
                        <div class="content-card">
                            <div class="card-header">
                                <h3>التنبيهات المهمة</h3>
                            </div>
                            <div class="card-body">
                                <div class="alerts-list" id="importantAlertsList">
                                    <!-- سيتم ملء التنبيهات ديناميكياً -->
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- قسم المواعيد -->
                <section id="appointmentsSection" class="page-section">
                    <div class="section-header">
                        <h2>إدارة المواعيد</h2>
                        <div class="section-actions">
                            <button class="btn btn-primary" id="addAppointmentBtn">
                                <i class="fas fa-plus"></i>
                                إضافة موعد جديد
                            </button>
                            <button class="btn btn-secondary" id="filterAppointmentsBtn">
                                <i class="fas fa-filter"></i>
                                تصفية
                            </button>
                        </div>
                    </div>
                    
                    <div class="appointments-content">
                        <!-- سيتم ملء محتوى المواعيد ديناميكياً -->
                    </div>
                </section>

                <!-- قسم المرضى -->
                <section id="patientsSection" class="page-section">
                    <div class="section-header">
                        <h2>إدارة المرضى</h2>
                        <div class="section-actions">
                            <button class="btn btn-primary" id="addPatientBtn">
                                <i class="fas fa-plus"></i>
                                إضافة مريض جديد
                            </button>
                            <button class="btn btn-secondary" id="importPatientsBtn">
                                <i class="fas fa-upload"></i>
                                استيراد
                            </button>
                        </div>
                    </div>
                    
                    <div class="patients-content">
                        <!-- سيتم ملء محتوى المرضى ديناميكياً -->
                    </div>
                </section>

                <!-- أقسام أخرى سيتم إضافتها -->
                <section id="medicalRecordsSection" class="page-section">
                    <!-- محتوى السجلات الطبية -->
                </section>

                <section id="prescriptionsSection" class="page-section">
                    <!-- محتوى الوصفات الطبية -->
                </section>

                <section id="invoicesSection" class="page-section">
                    <!-- محتوى الفواتير -->
                </section>

                <section id="reportsSection" class="page-section">
                    <!-- محتوى التقارير -->
                </section>

                <section id="inventorySection" class="page-section">
                    <!-- محتوى المخزون -->
                </section>

                <section id="labSection" class="page-section">
                    <!-- محتوى المختبر -->
                </section>

                <section id="radiologySection" class="page-section">
                    <!-- محتوى الأشعة -->
                </section>

                <section id="settingsSection" class="page-section">
                    <!-- محتوى الإعدادات -->
                </section>
            </div>
        </main>
    </div>

    <!-- النوافذ المنبثقة -->
    <!-- نافذة إضافة موعد -->
    <div id="addAppointmentModal" class="modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>إضافة موعد جديد</h3>
                <button class="close-modal" id="closeAppointmentModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <!-- سيتم ملء النموذج ديناميكياً -->
            </div>
        </div>
    </div>

    <!-- نافذة إضافة مريض -->
    <div id="addPatientModal" class="modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>إضافة مريض جديد</h3>
                <button class="close-modal" id="closePatientModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <!-- سيتم ملء النموذج ديناميكياً -->
            </div>
        </div>
    </div>

    <!-- نافذة تأكيد تسجيل الخروج -->
    <div id="logoutConfirmModal" class="modal">
        <div class="modal-content small">
            <div class="modal-header">
                <h3>تأكيد تسجيل الخروج</h3>
            </div>
            <div class="modal-body">
                <p>هل أنت متأكد من رغبتك في تسجيل الخروج؟</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelLogout">إلغاء</button>
                <button class="btn btn-danger" id="confirmLogout">تسجيل الخروج</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="module" src="dashboard.js"></script>
</body>
</html>
